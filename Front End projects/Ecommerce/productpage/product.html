<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="product.css">
    <title>Products</title>
</head>

<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>PAGE</h2>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </div>
            <div class="menu-item active">
                <i class="fas fa-shopping-bag"></i>
                <span>Products</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-list"></i>
                <span>Categories</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-users"></i>
                <span>Customers</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-truck"></i>
                <span>Orders</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-chart-line"></i>
                <span>Analytics</span>
            </div>
            <div class="menu-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </div>
        </div>
    </div>
    <div class="main-content">
        <div class="header">
            <h1>Products</h1>
            <div class="user-info">
                <img src="" alt="admin">
                <span>Admin</span>
            </div>
        </div>
        <!-- main product container -->
        <div class="main-container">
            <div class="content-header">
                <h1>All Products</h1>
                <div class="header-buttons">
                    <button>Export</button>
                    <button>Import</button>
                    <button>Add products</button>
                </div>
            </div>
            <div class="products-container">
                <div class="product-table-container">
                    <div class="product-filters">
                        <button>All Products</button>
                        <button>Active</button>
                        <button>Inactive</button>
                        <button>Out of stock</button>
                    </div>
                    <div class="products-sorting">
                        <div class="product-count">
                            <h2>1824 Products</h2>
                        </div>
                        <div class="product-search">
                            <input type="search" placeholder="Search...">
                        </div>
                    </div>
                    <div class="product-table">
                        <table>
                            <tr>
                                <th>Product Name</th>
                                <th>Image</th>
                                <th>Reg Price</th>
                                <th>Sale Price</th>
                                <th>Inventory</th>
                                <th>SKU</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                            <tr>
                                <td>Fashion La Plaza-mesh Round Neck Black Embroidery</td>
                                <td>
                                    <div style="width:50px;height:50px;background-color:#eee;"></div>
                                </td>
                                <td>PKR 214.00</td>
                                <td>PKR 100.00</td>
                                <td class="inventory-stock">12 in stock</td>
                                <td>IN524547U</td>
                                <td class="status-active">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch"
                                            id="switchCheckChecked" checked>
                                        <label class="form-check-label" for="switchCheckChecked">Active</label>
                                    </div>
                                </td>
                                <td class="actions">
                                    <div class="action-buttons">
                                        <a href="#" class="btn btn-edit" title="Edit"><i class="fas fa-edit"></i></a>
                                        <a href="#" class="btn btn-delete" title="Delete"><i
                                                class="fas fa-trash"></i></a>
                                        <a href="#" class="btn btn-draft" title="Save as Draft"><i
                                                class="fas fa-save"></i></a>
                                        <a href="#" class="btn btn-publish" title="Publish"><i
                                                class="fas fa-upload"></i></a>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="pagination-info">
                        <div>Showing 1 - 10 of 1824</div>
                        <div class="pagination-controls">
                            <button><i class="fas fa-chevron-left"></i></button>
                            <button class="active">1</button>
                            <button>2</button>
                            <button>3</button>
                            <button>...</button>
                            <button><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Wait for DOM to load
        document.addEventListener('DOMContentLoaded', function () {
            // Product data (would normally come from an API)
            let products = [
                {
                    id: 1,
                    name: "Fashion La Plaza-mesh Round Neck Black Embroidery",
                    image: "#eee",
                    regPrice: "PKR 214.00",
                    salePrice: "PKR 100.00",
                    inventory: 12,
                    sku: "IN524547U",
                    status: true,
                    published: true
                },
                // Add more sample products as needed
            ];

            // DOM Elements
            const productTable = document.querySelector('.product-table table');
            const productCount = document.querySelector('.product-count h2');
            const searchInput = document.querySelector('.product-search input');
            const filterButtons = document.querySelectorAll('.product-filters button');
            const addProductBtn = document.querySelector('.header-buttons button:nth-child(3)');
            const importBtn = document.querySelector('.header-buttons button:nth-child(2)');
            const exportBtn = document.querySelector('.header-buttons button:nth-child(1)');

            // Render products table
            function renderProducts(productsToRender) {
                // Clear existing rows (except header)
                const rows = productTable.querySelectorAll('tr:not(:first-child)');
                rows.forEach(row => row.remove());

                // Add products to table
                productsToRender.forEach(product => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>${product.name}</td>
                <td><div style="width:50px;height:50px;background-color:${product.image};"></div></td>
                <td>${product.regPrice}</td>
                <td>${product.salePrice}</td>
                <td class="inventory-stock">${product.inventory} in stock</td>
                <td>${product.sku}</td>
                <td class="status-${product.status ? 'active' : 'inactive'}">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch"
                            id="switch-${product.id}" ${product.status ? 'checked' : ''}>
                        <label class="form-check-label" for="switch-${product.id}">${product.status ? 'Active' : 'Inactive'}</label>
                    </div>
                </td>
                <td class="actions">
                    <div class="action-buttons">
                        <a href="#" class="btn btn-edit" title="Edit" data-id="${product.id}"><i class="fas fa-edit"></i></a>
                        <a href="#" class="btn btn-delete" title="Delete" data-id="${product.id}"><i class="fas fa-trash"></i></a>
                        <a href="#" class="btn btn-draft" title="Save as Draft" data-id="${product.id}"><i class="fas fa-save"></i></a>
                        <a href="#" class="btn btn-publish" title="Publish" data-id="${product.id}"><i class="fas fa-upload"></i></a>
                    </div>
                </td>
            `;
                    productTable.appendChild(row);
                });

                // Update product count
                productCount.textContent = `${productsToRender.length} Products`;
            }

            // Initial render
            renderProducts(products);

            // Search functionality
            searchInput.addEventListener('input', function () {
                const searchTerm = this.value.toLowerCase();
                const filteredProducts = products.filter(product =>
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.sku.toLowerCase().includes(searchTerm)
                );
                renderProducts(filteredProducts);
            });

            // Filter buttons
            filterButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');

                    const filter = this.textContent;
                    let filteredProducts = [...products];

                    switch (filter) {
                        case 'Active':
                            filteredProducts = products.filter(p => p.status);
                            break;
                        case 'Inactive':
                            filteredProducts = products.filter(p => !p.status);
                            break;
                        case 'Out of stock':
                            filteredProducts = products.filter(p => p.inventory <= 0);
                            break;
                        // 'All Products' is default
                    }

                    renderProducts(filteredProducts);
                });
            });

            // Status toggle
            productTable.addEventListener('change', function (e) {
                if (e.target.classList.contains('form-check-input')) {
                    const productId = parseInt(e.target.id.split('-')[1]);
                    const product = products.find(p => p.id === productId);
                    if (product) {
                        product.status = e.target.checked;
                        // In a real app, you would send an API request here
                        console.log(`Product ${productId} status updated to ${product.status}`);
                    }
                }
            });

            // Action buttons
            productTable.addEventListener('click', function (e) {
                e.preventDefault();
                const btn = e.target.closest('a');
                if (!btn) return;

                const productId = parseInt(btn.dataset.id);
                const product = products.find(p => p.id === productId);
                if (!product) return;

                if (btn.classList.contains('btn-edit')) {
                    editProduct(product);
                } else if (btn.classList.contains('btn-delete')) {
                    deleteProduct(productId);
                } else if (btn.classList.contains('btn-draft')) {
                    saveAsDraft(productId);
                } else if (btn.classList.contains('btn-publish')) {
                    publishProduct(productId);
                }
            });

            // Add new product
            addProductBtn.addEventListener('click', function () {
                // In a real app, this would open a modal/form
                const newProduct = {
                    id: products.length + 1,
                    name: "New Product",
                    image: "#ddd",
                    regPrice: "PKR 0.00",
                    salePrice: "PKR 0.00",
                    inventory: 0,
                    sku: "NEW" + Math.floor(Math.random() * 10000),
                    status: false,
                    published: false
                };
                products.unshift(newProduct);
                renderProducts(products);
                alert("Add product form would open here. Added a placeholder product for demo.");
            });

            // Import/Export buttons (placeholder functionality)
            importBtn.addEventListener('click', function () {
                alert("Import functionality would go here");
            });

            exportBtn.addEventListener('click', function () {
                alert("Export functionality would go here");
            });

            // Action functions
            function editProduct(product) {
                // In a real app, this would open an edit form
                alert(`Editing product: ${product.name}\nID: ${product.id}`);
            }

            function deleteProduct(productId) {
                if (confirm("Are you sure you want to delete this product?")) {
                    products = products.filter(p => p.id !== productId);
                    renderProducts(products);
                }
            }

            function saveAsDraft(productId) {
                const product = products.find(p => p.id === productId);
                if (product) {
                    product.published = false;
                    alert(`Product ${productId} saved as draft`);
                }
            }

            function publishProduct(productId) {
                const product = products.find(p => p.id === productId);
                if (product) {
                    product.published = true;
                    alert(`Product ${productId} published`);
                }
            }
        });
    </script>
</body>

</html>